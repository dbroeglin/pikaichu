<div class="container">
  <div class="columns">
    <div class="column is-two-third is-offset-2">

      <table class="table is-narrow is-striped is-bordered is-fullwidth">
        <thead>
          <tr>
            <th>Dojo</th>
            <th>Name</th>
            <th>Choice</th>
            <th colspan="4">Round 1</th>
            <th colspan="4">Round 2</th>
            <th colspan="4">Round 3</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <% @participating_dojos.each_with_index do |dojo| %>
          <% dojo.participants.each_with_index do |participant, index| %>
          <tr>
            <% if index == 0 %>
            <td rowspan="<%= dojo.participants.size %>">
              <%= dojo.display_name %>
            </td>
            <% end %>
            <td><%= participant.display_name %></td>
            <td>
              <span class="icon is-small">
                <i class="far fa-circle"></i>
              </span>
              <span class="icon is-small ml-3">
                <i class="fas fa-xmark"></i>
              </span>
            </td>
            <% participant.results.each do |result| %>
              <td>
                <% if result.status_hit? %>
                <span class="icon is-small">
                  <i class="far fa-circle"></i>
                </span>
                <% elsif result.status_miss? %>
                <span class="icon is-small">
                  <i class="fas fa-xmark"></i>
                </span>
                <% else %>
                <span class="icon is-small">
                  <i class="fat fa-question"></i>
                </span>
                <% end %>
              </td>
            <% end %>
            <td><%= participant.total %></td>
          </tr>
          <% end %>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
